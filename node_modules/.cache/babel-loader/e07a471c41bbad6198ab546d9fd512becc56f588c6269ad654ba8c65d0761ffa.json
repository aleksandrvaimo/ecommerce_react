{"ast":null,"code":"import axios from \"axios\";\nexport function AddProduct(itemId, orderId, setUpdate) {\n  const AddProduct = async e => {\n    e.preventDefault();\n    const options = [itemId]; // Can be added multiple items at once: ['123', '456', '999']\n\n    try {\n      await axios.post(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products`, options);\n      setUpdate(true);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  return AddProduct;\n}\n\n// Add OR Update product based on provided qty(currently not used)\n// Need to use addUpdateOrderProducts instead of addOrderProducts\n// <span>Qty: <input onChange={addUpdateQtyHandler} defaultValue=\"1\" type=\"number\" /></span>\n// {!replace && <span><Button title=\"Add To Order\" clickHandler={AddUpdateProduct(item, orderId, setUpdate)} /></span>}\n_c = AddProduct;\nexport function AddUpdateProduct(item, orderId, setUpdate) {\n  const addUpdateProduct = async e => {\n    var _item$qty;\n    e.preventDefault();\n    item.qty = (_item$qty = item.qty) !== null && _item$qty !== void 0 ? _item$qty : 1;\n    const options = [item];\n    try {\n      await axios.post(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products`, options);\n      setUpdate(true);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  return addUpdateProduct;\n}\n_c2 = AddUpdateProduct;\nexport function ReplaceProduct(item, orderId, setUpdate) {\n  const replaceProduct = async e => {\n    var _item$qty2;\n    e.preventDefault();\n    item.replaced_with.quantity = (_item$qty2 = item.qty) !== null && _item$qty2 !== void 0 ? _item$qty2 : 1;\n    const options = {\n      replaced_with: item.replaced_with\n    };\n    try {\n      await axios.patch(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products/${item.id}`, options);\n      setUpdate(true);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  return replaceProduct;\n}\n_c3 = ReplaceProduct;\nexport function UpdateProductQty(itemId, orderId, setUpdate) {\n  const updateProductQty = async e => {\n    e.preventDefault();\n    let qty = parseInt(e.target.value);\n    const options = {\n      quantity: qty\n    };\n    try {\n      await axios.patch(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products/${itemId}`, options);\n      setUpdate(true);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  };\n  return updateProductQty;\n}\n_c4 = UpdateProductQty;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"AddProduct\");\n$RefreshReg$(_c2, \"AddUpdateProduct\");\n$RefreshReg$(_c3, \"ReplaceProduct\");\n$RefreshReg$(_c4, \"UpdateProductQty\");","map":{"version":3,"names":["axios","AddProduct","itemId","orderId","setUpdate","e","preventDefault","options","post","process","env","REACT_APP_BE_URL","error","console","_c","AddUpdateProduct","item","addUpdateProduct","_item$qty","qty","_c2","ReplaceProduct","replaceProduct","_item$qty2","replaced_with","quantity","patch","id","_c3","UpdateProductQty","updateProductQty","parseInt","target","value","_c4","$RefreshReg$"],"sources":["/Users/aleksandr/www/solution/frontend/src/components/hooks/Products.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function AddProduct(itemId, orderId, setUpdate) {\n    const AddProduct = async (e) => {\n        e.preventDefault()\n\n        const options = [itemId]; // Can be added multiple items at once: ['123', '456', '999']\n\n        try {\n            await axios.post(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products`, options);\n            setUpdate(true);\n        } catch (error) {\n            console.error('Error fetching data:', error);\n        }\n    }\n\n    return AddProduct;\n}\n\n// Add OR Update product based on provided qty(currently not used)\n// Need to use addUpdateOrderProducts instead of addOrderProducts\n// <span>Qty: <input onChange={addUpdateQtyHandler} defaultValue=\"1\" type=\"number\" /></span>\n// {!replace && <span><Button title=\"Add To Order\" clickHandler={AddUpdateProduct(item, orderId, setUpdate)} /></span>}\nexport function AddUpdateProduct(item, orderId, setUpdate) {\n    const addUpdateProduct = async (e) => {\n        e.preventDefault()\n        item.qty = item.qty ?? 1;\n        const options = [item];\n\n        try {\n            await axios.post(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products`, options);\n            setUpdate(true);\n        } catch (error) {\n            console.error('Error fetching data:', error);\n        }\n    }\n\n    return addUpdateProduct;\n}\n\nexport function ReplaceProduct(item, orderId, setUpdate) {\n    const replaceProduct = async (e) => {\n        e.preventDefault()\n        item.replaced_with.quantity = item.qty ?? 1;\n        const options = {\n            replaced_with: item.replaced_with\n        };\n\n        try {\n            await axios.patch(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products/${item.id}`, options);\n            setUpdate(true);\n        } catch (error) {\n            console.error('Error fetching data:', error);\n        }\n    }\n\n    return replaceProduct;\n}\n\nexport function UpdateProductQty(itemId, orderId, setUpdate) {\n    const updateProductQty = async (e) => {\n        e.preventDefault()\n        let qty = parseInt(e.target.value);\n        const options = {\n            quantity: qty\n        };\n\n        try {\n            await axios.patch(`${process.env.REACT_APP_BE_URL}/api/orders/${orderId}/products/${itemId}`, options);\n            setUpdate(true);\n        } catch (error) {\n            console.error('Error fetching data:', error);\n        }\n    }\n\n    return updateProductQty;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}