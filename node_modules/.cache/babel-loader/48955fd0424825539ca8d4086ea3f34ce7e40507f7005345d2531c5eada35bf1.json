{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useContext } from \"react\";\nimport { OrderContext } from \"../../context/OrderContext\";\nimport axios from \"axios\";\nexport function GetOrders() {\n  _s();\n  const {\n    setOrders,\n    setOrderId,\n    orders\n  } = useContext(OrderContext);\n  const GetOrders = async () => {\n    try {\n      debugger;\n      const response = await axios.get('http://localhost:3001/api/orders/collection');\n      if (response.data && !response.data.error) {\n        setOrders(response.data);\n        setOrderId(response.data.length ? response.data[0].id : false);\n      } else {\n        const response = await axios.post('http://localhost:3001/api/orders');\n        if (response.data) {\n          orders.push(response.data);\n          setOrders(orders);\n          setOrderId(response.data.id);\n        }\n      }\n    } catch (error) {\n      console.error('Error creating order:', error);\n    }\n  };\n  useEffect(() => {\n    GetOrders();\n  }, []);\n}\n_s(GetOrders, \"P+cKYzO64XalIhzaDH0A7WS3rEM=\");\n_c = GetOrders;\nvar _c;\n$RefreshReg$(_c, \"GetOrders\");","map":{"version":3,"names":["useEffect","useContext","OrderContext","axios","GetOrders","_s","setOrders","setOrderId","orders","response","get","data","error","length","id","post","push","console","_c","$RefreshReg$"],"sources":["/Users/aleksandr/www/solution/frontend/src/components/hooks/GetOrders.js"],"sourcesContent":["import {useEffect, useContext} from \"react\";\nimport {OrderContext} from \"../../context/OrderContext\";\nimport axios from \"axios\";\n\nexport function GetOrders() {\n    const {setOrders, setOrderId, orders} = useContext(OrderContext);\n    const GetOrders = async () => {\n        try {\n            debugger;\n            const response = await axios.get('http://localhost:3001/api/orders/collection');\n            if (response.data && !response.data.error) {\n                setOrders(response.data);\n                setOrderId(response.data.length ? response.data[0].id : false);\n            } else {\n                const response = await axios.post('http://localhost:3001/api/orders');\n                if (response.data) {\n                    orders.push(response.data);\n                    setOrders(orders);\n                    setOrderId(response.data.id);\n                }\n            }\n\n        } catch (error) {\n            console.error('Error creating order:', error);\n        }\n    };\n\n    useEffect(() => {\n        GetOrders();\n    }, []);\n}"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,UAAU,QAAO,OAAO;AAC3C,SAAQC,YAAY,QAAO,4BAA4B;AACvD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM;IAACC,SAAS;IAAEC,UAAU;IAAEC;EAAM,CAAC,GAAGP,UAAU,CAACC,YAAY,CAAC;EAChE,MAAME,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACA;MACA,MAAMK,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,6CAA6C,CAAC;MAC/E,IAAID,QAAQ,CAACE,IAAI,IAAI,CAACF,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;QACvCN,SAAS,CAACG,QAAQ,CAACE,IAAI,CAAC;QACxBJ,UAAU,CAACE,QAAQ,CAACE,IAAI,CAACE,MAAM,GAAGJ,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAC,CAACG,EAAE,GAAG,KAAK,CAAC;MAClE,CAAC,MAAM;QACH,MAAML,QAAQ,GAAG,MAAMN,KAAK,CAACY,IAAI,CAAC,kCAAkC,CAAC;QACrE,IAAIN,QAAQ,CAACE,IAAI,EAAE;UACfH,MAAM,CAACQ,IAAI,CAACP,QAAQ,CAACE,IAAI,CAAC;UAC1BL,SAAS,CAACE,MAAM,CAAC;UACjBD,UAAU,CAACE,QAAQ,CAACE,IAAI,CAACG,EAAE,CAAC;QAChC;MACJ;IAEJ,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZK,OAAO,CAACL,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IACjD;EACJ,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACZI,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;AACV;AAACC,EAAA,CA1BeD,SAAS;AAAAc,EAAA,GAATd,SAAS;AAAA,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}